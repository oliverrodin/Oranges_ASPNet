@using Oranges_ASPNet.Data.Enum
@using Oranges_ASPNet.Models.ViewModel
@model ProductViewModel

@{
	ViewData["Title"] = "Edit";
}

<div class="row text">
	<div class="mb-3 col-md-8 offset-2">
		<h1>Edit book</h1>
	</div>
	<div class="col-md-8 offset-2">
		<div class="row">
			<div class="col-md-6">
				<form asp-action="Edit">
					<div asp-validation-summary="ModelOnly" class="text-danger"></div>



					<div class="form-floating mb-3">
						<input asp-for="ImgUrl" class="form-control" placeholder="@Html.DisplayNameFor(model => model.ImgUrl)" />
						<label asp-for="ImgUrl"></label>
						<span asp-validation-for="ImgUrl" class="text-danger"></span>
					</div>
					<div class="form-floating mb-3">
						<select asp-for="BrandId" class="form-select" asp-items="ViewBag.Brand" placeholder="@Html.DisplayNameFor(model => model.BrandId)">
							<option selected>Choose a brand</option>
						</select>
						<label asp-for="BrandId"></label>
						<span asp-validation-for="BrandId" class="text-danger"></span>
					</div>
					<div class="form-floating mb-3">
						<input asp-for="Model" class="form-control" placeholder="@Html.DisplayNameFor(model => model.Model)" />
						<label asp-for="Model"></label>
						<span asp-validation-for="Model" class="text-danger"></span>
					</div>
					<div class="form-floating mb-3">
                        <textarea asp-for="Description" class="form-control" style="height: fit-content;" placeholder="@Html.DisplayNameFor(model => model.Description)"></textarea>
						<label asp-for="Description"></label>
						<span asp-validation-for="Description" class="text-danger"></span>
					</div>
					<div class="form-floating mb-3">
						<select asp-for="Category" class="form-select" asp-items="Html.GetEnumSelectList<ProductCategory>()" placeholder="@Html.DisplayNameFor(model => model.Category)">
							<option selected>Choose a category</option>
						</select>
						<label asp-for="Category"></label>
						<span asp-validation-for="Category" class="text-danger"></span>
					</div>
					<div class="form-floating mb-3">
						<input asp-for="Price" class="form-control" placeholder="@Html.DisplayNameFor(model => model.Price)" />
						<label asp-for="Price"></label>
						<span asp-validation-for="Price" class="text-danger"></span>
					</div>
					<div>
						<input type="submit" value="Edit" class="btn btn-outline-success float-end" />
						<a asp-action="Index" class="btn btn-outline-primary">Back to list</a>
					</div>
				</form>
			</div>
			<div class="col-md-6">
				<div class="form-group text-center">
					<img class="border-info" width="100%" id="PicturePreview" />
				</div>
			</div>






		</div>
	</div>



</div>





@section Scripts{
	<script>

		$(document).ready(function() {
			var output = document.getElementById('PicturePreview');
			output.src = $("#ImgUrl").val();
		})



		$("#ImgUrl").on("change", function() {
			var output = document.getElementById('PicturePreview');
			output.src = $(this).val();
		})
	</script>
}